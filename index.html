<!DOCTYPE HTML>
<html lang="en">

<head>
    <title>Hello Chang Chill</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="color-scheme" content="light only" />
    <meta name="description" content="For your fri" />
    <meta property="og:site_name" content="JulyDusk" />
    <meta property="og:title" content="JulyDusk" />
    <meta property="og:type" content="website" />
    <style>
        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        menu,
        nav,
        section {
            display: block;
        }

        body {
            line-height: 1.0;
        }

        ol,
        ul {
            list-style: none;
        }

        blockquote,
        q {
            quotes: none;
        }

        blockquote:before,
        blockquote:after,
        q:before,
        q:after {
            content: '';
            content: none;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }

        body {
            -webkit-text-size-adjust: none
        }

        mark {
            background-color: transparent;
            color: inherit
        }

        input::-moz-focus-inner {
            border: 0;
            padding: 0
        }

        input[type="text"],
        input[type="email"],
        select,
        textarea {
            -moz-appearance: none;
            -webkit-appearance: none;
            -ms-appearance: none;
            appearance: none
        }

        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }

        body {
            line-height: 1.0;
            min-height: var(--viewport-height);
            min-width: 320px;
            overflow-x: hidden;
            word-wrap: break-word;
            background-color: #EDEDED;
        }

        :root {
            --background-height: 100vh;
            --site-language-alignment: left;
            --site-language-direction: ltr;
            --site-language-flex-alignment: flex-start;
            --site-language-indent-left: 1;
            --site-language-indent-right: 0;
            --site-language-margin-left: 0;
            --site-language-margin-right: auto;
            --viewport-height: 100vh;
        }

        html {
            font-size: 18pt;
        }

        u {
            text-decoration: underline;
        }

        strong {
            color: inherit;
            font-weight: bolder;
        }

        em {
            font-style: italic;
        }

        code {
            background-color: rgba(144, 144, 144, 0.25);
            border-radius: 0.25em;
            font-family: 'Lucida Console', 'Courier New', monospace;
            font-size: 0.9em;
            font-weight: normal;
            letter-spacing: 0;
            margin: 0 0.25em;
            padding: 0.25em 0.5em;
            text-indent: 0;
        }

        mark {
            background-color: rgba(144, 144, 144, 0.25);
        }

        spoiler-text {
            -webkit-text-stroke: 0;
            background-color: rgba(32, 32, 32, 0.75);
            text-shadow: none;
            text-stroke: 0;
            color: transparent;
            cursor: pointer;
            transition: color 0.1s ease-in-out;
        }

        spoiler-text.active {
            color: #FFFFFF;
            cursor: text;
        }

        s {
            text-decoration: line-through;
        }

        sub {
            font-size: smaller;
            vertical-align: sub;
        }

        sup {
            font-size: smaller;
            vertical-align: super;
        }

        a {
            color: inherit;
            text-decoration: underline;
            transition: color 0.25s ease;
        }

        a[onclick]:not([href]) {
            cursor: pointer;
        }

        unloaded-script {
            display: none;
        }

        #wrapper {
            -webkit-overflow-scrolling: touch;
            align-items: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: var(--viewport-height);
            overflow: hidden;
            position: relative;
            z-index: 2;
            padding: 1.5rem 1.5rem 1.5rem 1.5rem;
        }

        #main {
            --alignment: var(--site-language-alignment);
            --flex-alignment: var(--site-language-flex-alignment);
            --indent-left: var(--site-language-indent-left);
            --indent-right: var(--site-language-indent-right);
            --margin-left: var(--site-language-margin-left);
            --margin-right: var(--site-language-margin-right);
            --border-radius-tl: 0;
            --border-radius-tr: 0;
            --border-radius-br: 0;
            --border-radius-bl: 0;
            align-items: center;
            display: flex;
            flex-grow: 0;
            flex-shrink: 0;
            justify-content: center;
            max-width: 100%;
            position: relative;
            text-align: var(--alignment);
            z-index: 1;
            background-color: #FFFFFF;
            background-image: url('data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%22640%22%20height%3D%22480%22%20viewBox%3D%220%200%20640%20480%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20use%5Bhref%3D%22%23heart%22%5D%20%7B%20fill%3A%20%23FF4D6D%3B%20%7D%20%3C%2Fstyle%3E%20%3Csymbol%20id%3D%22heart%22%20viewBox%3D%220%200%2040.0%2040.0%22%3E%20%3Cpath%20d%3D%22M%202%2C13%20A%207%2C17%20325%2C0%2C0%2020%2C37%20A%207%2C17%2035%2C0%2C0%2038%2C13%20A%209%2C9%200%2C0%2C0%2020%2C13%20A%209%2C9%200%2C0%2C0%202%2C13%22%20%2F%3E%20%3C%2Fsymbol%3E%20%3Cg%20transform%3D%22translate%2836.0%2C%20-16.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.4%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C512.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.4%200%22%20dur%3D%227000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%2888.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%225000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28160.0%2C%20-20.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.5%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C520.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.5%200%22%20dur%3D%225500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28216.0%2C%20-12.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.3%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C504.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.3%200%22%20dur%3D%229500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28264.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%2210000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28336.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%227500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28408.0%2C%20-12.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.3%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C504.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.3%200%22%20dur%3D%226000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28456.0%2C%20-24.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.6%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C528.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.6%200%22%20dur%3D%229000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28516.0%2C%20-32.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.8%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C544.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.8%200%22%20dur%3D%228000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28584.0%2C%20-20.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.5%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C520.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.5%200%22%20dur%3D%226500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%3C%2Fsvg%3E');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        #main>.inner {
            --padding-horizontal: 3rem;
            --padding-vertical: 3rem;
            --spacing: 0.75rem;
            --width: 40rem;
            /* Bo g√≥c 25px (b·∫°n c√≥ th·ªÉ thay ƒë·ªïi th√†nh 15px, 30px t√πy √Ω) */
            border-radius: 25px; 
    
            /* Hi·ªáu ·ª©ng Glassmorphism ƒë√£ th√™m ·ªü b∆∞·ªõc tr∆∞·ªõc */
            background-color: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(10px); 
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);

            max-width: 100%;
            position: relative;
            width: var(--width);
            z-index: 1;
            padding: var(--padding-vertical) var(--padding-horizontal);
        }

        #main>.inner>* {
            margin-top: var(--spacing);
            margin-bottom: var(--spacing);
        }

        #main>.inner>:first-child {
            margin-top: 0 !important;
        }

        #main>.inner>:last-child {
            margin-bottom: 0 !important;
        }

        #main>.inner>.full {
            margin-left: calc(var(--padding-horizontal) * -1);
            max-width: calc(100% + calc(var(--padding-horizontal) * 2) + 0.4725px);
            width: calc(100% + calc(var(--padding-horizontal) * 2) + 0.4725px);
        }

        #main>.inner>.full:first-child {
            border-top-left-radius: inherit;
            border-top-right-radius: inherit;
            margin-top: calc(var(--padding-vertical) * -1) !important;
        }

        #main>.inner>.full:last-child {
            border-bottom-left-radius: inherit;
            border-bottom-right-radius: inherit;
            margin-bottom: calc(var(--padding-vertical) * -1) !important;
        }

        #main>.inner>.full.screen {
            border-radius: 0 !important;
            max-width: 100vw;
            position: relative;
            width: 100vw;
            left: 50%;
            margin-left: -50vw;
            right: auto;
        }

        body.is-instant #main,
        body.is-instant #main>.inner>*,
        body.is-instant #main>.inner>section>* {
            transition: none !important;
        }

        body.is-instant:after {
            display: none !important;
            transition: none !important;
        }

        @media (max-width: 1920px) {}

        @media (max-width: 1680px) {
            html {
                font-size: 13pt;
            }
        }

        @media (max-width: 1280px) {
            html {
                font-size: 13pt;
            }
        }

        @media (max-width: 1024px) {}

        @media (max-width: 980px) {
            html {
                font-size: 11pt;
            }
        }

        @media (max-width: 736px) {
            html {
                font-size: 11pt;
            }

            #main>.inner {
                --padding-horizontal: 2rem;
                --padding-vertical: 3rem;
                --spacing: 0.75rem;
            }
        }

        @media (max-width: 480px) {
            #main>.inner {
                --spacing: 0.65625rem;
            }
        }

        @media (max-width: 360px) {
            #main>.inner {
                --padding-horizontal: 1.5rem;
                --padding-vertical: 2.25rem;
                --spacing: 0.5625rem;
            }
        }
        html, body {
            touch-action: manipulation; 
            -webkit-user-select: none;
            user-select: none;
        }
        input, textarea {
            -webkit-user-select: auto !important;
            user-select: auto !important;
        }
    </style>
</head>

<body>
    <div id="wrapper">
        <div id="main">
            <div class="inner">
                <div id="embed04">
                    <script>
                        const wrapper = document.getElementById('wrapper');
                        const wrapperHeight = wrapper.clientHeight;
                        const wrapperWidth = wrapper.clientWidth;

                        const main = document.getElementById('main');
                        const inner = document.querySelectorAll('.inner');

                        main.style = "overflow-y:scroll";
                        main.style.width = `${wrapperWidth}px`
                        main.style.height = `${wrapperHeight}px`
                        wrapper.style.padding = '0px';
                    </script>
                </div>
                <div id="embed01">
                    <link rel="preconnect" href="https://fonts.googleapis.com">
                    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&display=swap"
                        rel="stylesheet">
                    <link rel="preconnect" href="https://fonts.googleapis.com">
                    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                    <link
                        href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400..800&family=Noto+Sans+Symbols&display=swap"
                        rel="stylesheet">
                    <div id="startContainer" class="container active">
                        <img id="startAvatar" src="" alt="Avatar" class="start-avatar">
                        <button id="loveButton" class="button">Happy New Year MeoMeo</button>
                        <style>
                            .start-avatar {
                                width: 10rem;
                                height: 10rem;
                                border-radius: 50%;
                                border: 0.25rem solid #ff4d6d;
                                object-fit: cover;
                                margin-bottom: 1.5rem;
                                box-shadow: 0 4px 15px rgba(255, 77, 109, 0.3);
                                background-color: #fff;
                                animation: floatAvatar 3s ease-in-out infinite;
                            }

                            @keyframes floatAvatar {

                                0%,
                                100% {
                                    transform: translateY(0);
                                }

                                50% {
                                    transform: translateY(-10px);
                                }
                            }

                            @media (max-width: 480px) {
                                .start-avatar {
                                    width: 8rem;
                                    height: 8rem;
                                }
                            }
                        </style>
                    </div>
                    <div id="keyboardContainer" class="keyboard-container">
                        <div class="keyboard"><img id="passwordImage" src="" alt="Password Image"
                                style="width: 8rem; height: 10rem; border: 0.125rem dashed #ff4d6d; border-radius: 0.3125rem; object-fit: cover;">
                            <div class="keypad"><button class="key main-key" data-value="1">1</button><button
                                    class="key main-key" data-value="2">2</button><button class="key main-key"
                                    data-value="3">3</button><button class="key main-key"
                                    data-value="4">4</button><button class="key main-key"
                                    data-value="5">5</button><button class="key main-key"
                                    data-value="6">6</button><button class="key main-key"
                                    data-value="7">7</button><button class="key main-key"
                                    data-value="8">8</button><button class="key main-key"
                                    data-value="9">9</button><button class="key main-key"
                                    data-value="*">X</button><button class="key main-key"
                                    data-value="0">0</button><button class="key main-key" data-value="#">‚Üµ</button>
                            </div>
                        </div><input type="text" id="passwordInput" value="Enter password" class="button" readonly>
                    </div>
                    <div id="counterContainer" class="counter-container">
                        <div class="music-player-container" style="margin-bottom: 20px;">
    
    <div class="disk-wrapper" style="position: relative; width: 180px; height: 180px; margin: 0 auto 20px auto;">
        <img id="counterImage" 
             src="" 
             style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid #fff; box-shadow: 0 0 15px rgba(2, 119, 189, 0.5); animation: spinDisk 10s linear infinite;">
        
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 20px; height: 20px; background: #fff; border-radius: 50%; z-index: 2;"></div>
    </div>

    <div class="profile-info" style="font-family: 'Baloo 2', sans-serif;">
        <h2 style="font-size: 1.8rem; color: #0277bd; margin-bottom: 5px; font-weight: 800;">
            Ph·∫°m Thu·ª≥ Chang üéß
        </h2>
        <div style="background: rgba(255, 255, 255, 0.6); padding: 15px; border-radius: 15px; display: inline-block; min-width: 250px; margin-top: 10px; text-align: left;">
            <p style="color: #01579b; font-size: 1.1rem; margin: 5px 0;">
                üè∑Ô∏è <b>B·ªãt danh:</b> D∆∞∆°ng Linh Trang
            </p>
            <p style="color: #01579b; font-size: 1.1rem; margin: 5px 0;">
                üìÖ <b>Since:</b> 2018
            </p>
            <p style="color: #01579b; font-size: 1.1rem; margin: 5px 0;">
                üõ°Ô∏è <b>ƒê·ªô tin c·∫≠y:</b> 100% (Uy t√≠nnnn)
            </p>
        </div>
    </div>

    <div id="timer" style="display: none;"></div>
    <div id="dateLabel" style="display: none;"></div>

</div>

<style>
    @keyframes spinDisk {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
</style>

<button id="memoryButton" class="footer">G√¢u G√¢u</button>
                    </div>
                    <div id="memoriesContainer" class="memories-container">
                        <div class="memories-box"><input type="text" id="memoriesInput"
                                value="What I think about you?" class="button" readonly>
                            <div class="memories-images" id="memoryImages"></div>
                            <div class="memories-text">You are perfect. So cuteeee :v</div>
                        </div>
                        <div><button id="luckyButton" class="button">I feel very lucky to have met you</button></div>
                    </div>
                    <div id="finalContainer" class="final-container">
                        <div class="final-box">
                            <h2 class="final-title">L√° th∆∞ b√≠ m·∫≠t</h2>
                            <p style="font-size: 0.9rem; color: #fbd8d8; margin-bottom: 5px;">(C√†o nh·∫π l·ªõp ph·ªß ƒë·ªÉ xem c√≥ g√¨ n√®)</p>
                            <div class="scratch-wrapper" id="scratchWrapper">
                                <div class="letter-content-scroll">
                                    <div id="finalText" class="final-text-content">ƒêang t·∫£i th∆∞...</div>
                                </div>
                                <canvas id="scratchCanvas"></canvas>
                            </div>
                            <button id="loveButtonFinal" class="final-button" style="display: none;">Next page >>></button>
                        </div>
                    </div>
                    <div id="loveContainer" class="love-container">
                        <div class="love-message">Nh·∫•n v√†o ƒë√¢y ƒë·ªÉ g·ª≠i l·ªùi nh·∫Øn.</div>
                        <div class="labels" style="margin-top: -10px; margin-bottom: 10px; font-weight: normal;">(Nh·∫•n v√†o ·∫£nh ƒë·ªÉ xem th√¥ng ƒëi·ªáp.)</div>
                        <div class="love-heart">‚ô•</div>
                    </div>
                    <audio id="backgroundMusic" autoplay loop>
                        <source type="audio/mp3"> Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh HTML5.
                    </audio>
                </div>
                <div id="embed02">
                    <style>
                        * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                        }

                        body {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            background-color: #ffffff;
                            min-height: 100vh;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            padding: 1rem;
                            text-align: center;
                        }

                        .button,
                        input[type="text"] {
                            background-color: #ff4d6d;
                            color: white;
                            padding: 0.8rem 1.5rem;
                            border: none;
                            border-radius: 1.25rem;
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 2rem;
                            cursor: pointer;
                            margin: 0.5rem 0;
                            text-align: center;
                            width: 100%;
                            max-width: 20rem;
                        }

                        .button:hover,
                        input[type="text"]:hover {
                            background-color: #e63c5e;
                        }

                        input[type="text"] {
                            cursor: default;
                            background-color: #ff4d6d;
                            color: white;
                            padding: 0.8rem;
                            border-radius: 1.25rem;
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.5rem;
                            width: 100%;
                            max-width: 20rem;
                            margin-bottom: 1rem;
                        }

                        input[type="text"]:focus {
                            outline: none;
                        }

                        .container,
                        .keyboard-container,
                        .counter-container,
                        .memories-container,
                        .final-container,
                        .love-container {
                            display: none;
                            width: 100%;
                            max-width: 25rem;
                            text-align: center;
                        }

                        .active {
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            width: 100%;
                        }

                        .keyboard {
                            background-color: rgba(255, 255, 255, 0.6);
                            border: 0.125rem solid #ff4d6d;
                            border-radius: 0.625rem;
                            padding: 1rem;
                            display: flex;
                            gap: 0.625rem;
                            margin-bottom: 1rem;
                            width: 100%;
                            max-width: 20rem;
                        }

                        .display {
                            width: 8rem;
                            height: 10rem;
                            border: 0.125rem dashed #ff4d6d;
                            margin-right: 1.25rem;
                            line-height: 10rem;
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.5rem;
                            color: #ff4d6d;
                        }

                        .keypad {
                            display: grid;
                            grid-template-columns: repeat(3, 1fr);
                            gap: 0.3125rem;
                        }

                        .key {
                            background-color: #ff4d6d;
                            color: white;
                            border: none;
                            border-radius: 0.3125rem;
                            width: 3.125rem;
                            height: 3.125rem;
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.5rem;
                            cursor: pointer;
                        }

                        .key:hover {
                            background-color: #e63c5e;
                        }

                        .counter,
                        .memories-box,
                        .final-box {
                            margin-bottom: 1rem;
                            width: 100%;
                            max-width: 30rem;
                        }

                        .counter-text,
                        .final-text {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.5rem;
                            color: #ff4d6d;
                            margin-bottom: 0.625rem;
                        }

                        .memories-text {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.5rem;
                            color: #ffffff;
                            margin: 0rem;
                        }

                        .timer {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 2.5rem;
                            color: #ff4d6d;
                            margin-bottom: 0.625rem;
                        }

                        .labels {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 0.875rem;
                            color: #ff4d6d;
                        }

                        .footer,
                        .memories-footer,
                        .final-button {
                            background-color: #ff4d6d;
                            color: white;
                            padding: 0.8rem 1.5rem;
                            border: none;
                            border-radius: 1.25rem;
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.25rem;
                            cursor: pointer;
                            width: 100%;
                            max-width: 20rem;
                        }

                        .hearts {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: bold;
                            font-size: 1.25rem;
                            color: #ff4d6d;
                            margin-top: 0.625rem;
                        }

                        .memories-box {
                            background-color: #ff4d6d;
                            padding: 1rem;
                            border-radius: 0.625rem;
                            width: 100%;
                            max-width: 30rem;
                        }

                        .memories-images {
                            display: flex;
                            flex-wrap: wrap;
                            justify-content: center;
                            gap: 1.5rem;
                            margin-bottom: 1.5rem;
                            perspective: 1000px;
                        }

                        .polaroid-item {
                            background-color: transparent;
                            width: 10rem;
                            height: 13rem;
                            cursor: pointer;
                            position: relative;
                            flex-shrink: 0;
                        }

                        .polaroid-inner {
                            position: relative;
                            width: 100%;
                            height: 100%;
                            text-align: center;
                            transition: transform 0.8s;
                            transform-style: preserve-3d;
                        }

                        .polaroid-item.flipped .polaroid-inner {
                            transform: rotateY(180deg);
                        }

                        .polaroid-front,
                        .polaroid-back {
                            position: absolute;
                            width: 100%;
                            height: 100%;
                            -webkit-backface-visibility: hidden;
                            backface-visibility: hidden;
                            border-radius: 0.5rem;
                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                            padding: 0.5rem;
                        }

                        .polaroid-front {
                            background-color: rgba(255, 229, 236, 0.7);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            border: 2px solid #ffb3c1;
                        }

                        .polaroid-back {
                            transform: rotateY(180deg);
                            background-color: rgba(255, 255, 255, 0.7);
                            display: flex;
                            flex-direction: column;
                            justify-content: flex-start;
                        }

                        .polaroid-back img {
                            width: 100%;
                            height: 9.5rem;
                            object-fit: cover;
                            border-radius: 0.25rem;
                            background-color: #eee;
                            margin-bottom: 0.5rem;
                        }

                        .polaroid-back p {
                            font-family: "Baloo 2", cursive;
                            font-size: 1rem;
                            font-weight: bold;
                            color: #ff4d6d;
                            margin: 0;
                            line-height: 1.2;
                        }

                        @media (max-width: 480px) {
                            .polaroid-item {
                                width: 44%;
                                height: 12rem;
                            }

                            .polaroid-back img {
                                height: 8.5rem;
                            }

                            .polaroid-back p {
                                font-size: 0.8rem;
                            }
                        }

                        .scratch-wrapper {
                            position: relative;
                            width: 100%;
                            height: 350px;
                            margin: 0 auto 1.5rem auto;
                            border: 2px dashed #ff4d6d;
                            border-radius: 10px;
                            overflow: hidden;
                            background: rgba(255, 240, 243, 0.7);
                        }

                        .letter-content-scroll {
                            width: 100%;
                            height: 100%;
                            padding: 1.5rem;
                            overflow-y: auto;
                            text-align: left;
                            position: absolute;
                            top: 0;
                            left: 0;
                            z-index: 1;
                            opacity: 0;
                            transition: opacity 0.5s;
                        }

                        canvas#scratchCanvas {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            z-index: 10;
                            cursor: crosshair;
                            touch-action: none;
                        }

                        .final-title {
                            font-family: "Baloo 2", cursive;
                            color: #ff4d6d;
                            font-size: 1.8rem;
                            margin-bottom: 0.5rem;
                        }

                        .final-box {
                            border: 0.125rem solid #ff4d6d;
                            border-radius: 0.625rem;
                            padding: 1rem;
                            width: 100%;
                            max-width: 20rem;
                        }

                        .final-text-content {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-weight: normal;
                            font-size: 1.25rem;
                            color: #ff4d6d;
                            margin: 0.625rem 0;
                            white-space: pre-wrap;
                        }

                        .love-message {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-size: 2rem;
                            color: #ff4d6d;
                            margin: 1rem 0;
                            cursor: pointer;
                        }

                        .love-heart {
                            font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                            font-size: 2rem;
                            color: #ff4d6d;
                            margin: 0.5rem 0;
                        }

                        @media (max-width: 768px) {

                            .button,
                            input[type="text"],
                            .footer,
                            .memories-footer,
                            .final-button {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1.5rem;
                                padding: 0.6rem 1.2rem;
                                max-width: 18rem;
                            }

                            .key {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                width: 2.5rem;
                                height: 2.5rem;
                                font-size: 1rem;
                            }

                            .timer {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 2rem;
                            }

                            .counter-text,
                            .memories-text,
                            .final-text,
                            .love-message {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1rem;
                            }

                            .labels,
                            .final-text-content {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 0.75rem;
                            }

                            .hearts,
                            .love-heart {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 0.875rem;
                            }

                            .display {
                                width: 5rem;
                                height: 4rem;
                                line-height: 4rem;
                                font-size: 1rem;
                            }

                            .image-placeholder {
                                width: 5rem;
                                height: 5rem;
                            }
                        }

                        @media (max-width: 480px) {

                            .button,
                            input[type="text"],
                            .footer,
                            .memories-footer,
                            .final-button {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1.25rem;
                                padding: 0.5rem 1rem;
                                max-width: 15rem;
                            }

                            .key {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                width: 2rem;
                                height: 2rem;
                                font-size: 1rem;
                            }

                            .timer {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 2rem;
                            }

                            .counter-text,
                            .memories-text,
                            .final-text {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1rem;
                            }

                            .labels,
                            .final-text-content {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1rem;
                            }

                            .hearts {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1rem;
                            }

                            .love-heart,
                            .love-message {
                                font-family: "Baloo 2", "Noto Sans Symbols", sans-serif;
                                font-size: 1.75rem;
                            }

                            .display {
                                width: 4rem;
                                height: 3rem;
                                line-height: 3rem;
                                font-size: 1rem;
                            }

                            .image-placeholder {
                                width: 8.5rem;
                                height: 8.5rem;
                            }

                            .memories-box {
                                max-width: 20rem;
                            }

                            .keyboard {
                                max-width: 18rem;
                            }
                        }

                        .falling-photo {
                            position: fixed;
                            top: -150px;
                            z-index: 999;
                            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
                            opacity: 0.95;
                            pointer-events: auto;
                            animation-timing-function: linear;
                            animation-fill-mode: forwards;
                            object-fit: cover;
                            aspect-ratio: 1/1;
                            -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>');
                            mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>');
                            -webkit-mask-size: contain;
                            mask-size: contain;
                            -webkit-mask-repeat: no-repeat;
                            mask-repeat: no-repeat;
                            -webkit-mask-position: center;
                        }

                        @keyframes fallDown {
                            0% {
                                transform: translateY(0) rotate(0deg);
                                opacity: 0;
                            }

                            10% {
                                opacity: 1;
                            }

                            100% {
                                transform: translateY(120vh) rotate(360deg);
                                opacity: 0.8;
                            }
                        }

                        /* STYLE M·ªöI CHO POPUP V√Ä SWITCH */
                        #msgPopup,
                        #replyPopup,
                        #securityPopup {
                            display: none;
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: rgba(0, 0, 0, 0.85);
                            z-index: 99999;
                            justify-content: center;
                            align-items: center;
                            flex-direction: column;
                            animation: fadeIn 0.3s;
                        }

                        .popup-content,
                        .reply-content {
                            background: #fff;
                            padding: 20px;
                            border-radius: 15px;
                            text-align: center;
                            width: 90%;
                            max-width: 350px;
                            border: 3px solid #ff4d6d;
                            display: flex;
                            flex-direction: column;
                            gap: 10px;
                        }

                        .close-btn,
                        .action-btn {
                            background: #ff4d6d;
                            color: white;
                            border: none;
                            padding: 8px 20px;
                            border-radius: 20px;
                            font-weight: bold;
                            font-family: "Baloo 2";
                            cursor: pointer;
                        }

                        @keyframes fadeIn {
                            from {
                                opacity: 0;
                            }

                            to {
                                opacity: 1;
                            }
                        }

                        .switch-container {
                            position: fixed;
                            top: 15px;
                            right: 15px;
                            z-index: 9999999;
                            display: flex;
                            align-items: center;
                            gap: 8px;
                            background: rgba(255, 255, 255, 0.8);
                            padding: 5px 10px;
                            border-radius: 30px;
                            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                        }

                        .switch {
                            position: relative;
                            display: inline-block;
                            width: 40px;
                            height: 22px;
                        }

                        .switch input {
                            opacity: 0;
                            width: 0;
                            height: 0;
                        }

                        .slider {
                            position: absolute;
                            cursor: pointer;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background-color: #0277bd;
                            transition: .4s;
                            border-radius: 34px;
                        }

                        .slider:before {
                            position: absolute;
                            content: "";
                            height: 16px;
                            width: 16px;
                            left: 3px;
                            bottom: 3px;
                            background-color: white;
                            transition: .4s;
                            border-radius: 50%;
                        }

                        input:checked+.slider {
                            background-color: #ff4d6d;
                        }

                        input:checked+.slider:before {
                            transform: translateX(18px);
                        }

                        /* FRIEND MODE (XANH) */
                        body.friend-mode #bg-layer {
                            filter: blur(8px) !important;
                            opacity: 1 !important;
                        }

                        body.friend-mode #main {
                            background-image: url('data:image/svg+xml;charset=utf8,%3Csvg%20width%3D%22640%22%20height%3D%22480%22%20viewBox%3D%220%200%20640%20480%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20use%5Bhref%3D%22%23heart%22%5D%20%7B%20fill%3A%20%230277bd%3B%20%7D%20%3C%2Fstyle%3E%20%3Csymbol%20id%3D%22heart%22%20viewBox%3D%220%200%2040.0%2040.0%22%3E%20%3Cpath%20d%3D%22M%202%2C13%20A%207%2C17%20325%2C0%2C0%2020%2C37%20A%207%2C17%2035%2C0%2C0%2038%2C13%20A%209%2C9%200%2C0%2C0%2020%2C13%20A%209%2C9%200%2C0%2C0%202%2C13%22%20%2F%3E%20%3C%2Fsymbol%3E%20%3Cg%20transform%3D%22translate%2836.0%2C%20-16.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.4%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C512.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.4%200%22%20dur%3D%227000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%2888.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%225000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28160.0%2C%20-20.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.5%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C520.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.5%200%22%20dur%3D%225500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28216.0%2C%20-12.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.3%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C504.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.3%200%22%20dur%3D%229500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28264.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%2210000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28336.0%2C%20-36.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.9%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C552.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.9%200%22%20dur%3D%227500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28408.0%2C%20-12.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.3%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C504.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.3%200%22%20dur%3D%226000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28456.0%2C%20-24.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.6%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C528.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.6%200%22%20dur%3D%229000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28516.0%2C%20-32.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.8%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C544.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.8%200%22%20dur%3D%228000ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%20%3Cg%20transform%3D%22translate%28584.0%2C%20-20.0%29%22%3E%20%3Cuse%20href%3D%22%23heart%22%20width%3D%2240.0%22%20height%3D%2240.0%22%20transform%3D%22scale%280.5%29%22%20%2F%3E%20%3CanimateMotion%20path%3D%22M%200%2C0%20L%200%2C520.0%22%20keyTimes%3D%220%3B1%22%20keySplines%3D%220%200%200.5%200%22%20dur%3D%226500ms%22%20repeatCount%3D%22indefinite%22%20calcMode%3D%22spline%22%20begin%3D%22-7s%22%20%2F%3E%20%3C%2Fg%3E%3C%2Fsvg%3E') !important;
                            background-repeat: no-repeat;
                            background-position: center;
                            background-size: cover;
                        }

                        body.friend-mode .love-message,
                        body.friend-mode .counter-text,
                        body.friend-mode .timer,
                        body.friend-mode .labels,
                        body.friend-mode .memories-text,
                        body.friend-mode .polaroid-back p,
                        body.friend-mode .final-title,
                        body.friend-mode .final-text-content,
                        body.friend-mode .hearts,
                        body.friend-mode .love-heart {
                            color: #0277bd !important;
                            text-shadow: none !important;
                            font-weight: bold !important;
                        }

                        body.friend-mode .keyboard,
                        body.friend-mode .memories-box,
                        body.friend-mode .final-box,
                        body.friend-mode .popup-content,
                        body.friend-mode .reply-content,
                        body.friend-mode .display,
                        body.friend-mode .start-avatar {
                            border-color: #4fc3f7 !important;
                            background-color: rgba(255, 255, 255, 0.9) !important;
                            color: #0277bd !important;
                        }

                        body.friend-mode .scratch-wrapper {
                            background-color: #e1f5fe !important;
                            border: 2px dashed #0288d1 !important;
                        }

                        body.friend-mode .button,
                        body.friend-mode .key,
                        body.friend-mode .footer,
                        body.friend-mode .close-btn,
                        body.friend-mode .action-btn {
                            background-color: #0277bd !important;
                            color: white !important;
                        }

                        body.friend-mode .polaroid-front {
                            background-color: #e1f5fe !important;
                            border: 2px solid #81d4fa !important;
                        }

                        body.friend-mode .polaroid-front span {
                            color: #0277bd !important;
                        }

                        /* S·ª¨A L·ªñI TIM M√ÄU ƒê·ªé TH√ÄNH XANH */
                        body.friend-mode #passwordInput,
                        body.friend-mode #securityInput {
                            background-color: #fff !important;
                            color: #0277bd !important;
                            border: 2px solid #0277bd !important;
                        }

                        /* Th√™m ƒëo·∫°n n√†y v√†o cu·ªëi ph·∫ßn CSS Friend Mode */
                        /* ƒê·ªïi m√†u n·ªôi dung th∆∞ sang xanh ƒë·∫≠m */
                        body.friend-mode #finalText,
                        body.friend-mode .final-text-content {
                            color: #01579b !important;
                            text-shadow: none !important;
                        }

                        /* ƒê·ªïi m√†u n√∫t 'Click' sau khi c√†o xong sang xanh */
                        body.friend-mode #loveButtonFinal {
                            background-color: #0277bd !important;
                            color: #ffffff !important;
                            box-shadow: none !important;
                        }

                        /* ƒê·ªïi m√†u ti√™u ƒë·ªÅ th∆∞ 'L√° th∆∞...' sang xanh */
                        body.friend-mode .final-title {
                            color: #0277bd !important;
                        }
                        /* Th√™m v√†o ph·∫ßn style */
                        @keyframes fadeIn {
                            from { opacity: 0; transform: translateY(10px); }
                            to { opacity: 1; transform: translateY(0); }
                        }
                    </style>
                </div>
            </div>
        </div>
    </div>

    <div id="msgPopup">
        <div class="popup-content"><img id="popupImg" src=""
                style="width:100%; max-height:300px; object-fit:contain; border-radius:10px;">
            <div id="popupText"
                style="color:#ff4d6d; font-family:'Baloo 2'; font-weight:bold; margin-top:10px; font-size:1.2rem;">
            </div><button class="close-btn" onclick="document.getElementById('msgPopup').style.display='none'">ƒê√≥ng
                l·∫°i</button>
        </div>
    </div>

    <div id="replyPopup">
        <div class="reply-content">
            <h3 style="color:#ff4d6d; font-family:'Baloo 2';">Send for me ‚ù§Ô∏è</h3><textarea id="replyInput"
                style="width:100%; height:100px; padding:10px; border:2px solid #ffccd5; border-radius:10px; font-family:'Baloo 2';"></textarea><button
                id="btnSendReply" class="action-btn">G·ª≠i ngay üíå</button><button class="action-btn"
                style="background:#ccc; color:#555;"
                onclick="document.getElementById('replyPopup').style.display='none'">ƒê·ªÉ sau</button>
        </div>
    </div>

    <div id="securityPopup">
        <div class="keyboard" style="margin:0;">
            <div class="display" style="font-size:3rem; display:flex; justify-content:center; align-items:center;">üîí
            </div>
            <div class="keypad"><button class="key sec-key" data-value="1">1</button><button class="key sec-key"
                    data-value="2">2</button><button class="key sec-key" data-value="3">3</button><button
                    class="key sec-key" data-value="4">4</button><button class="key sec-key"
                    data-value="5">5</button><button class="key sec-key" data-value="6">6</button><button
                    class="key sec-key" data-value="7">7</button><button class="key sec-key"
                    data-value="8">8</button><button class="key sec-key" data-value="9">9</button><button
                    class="key sec-key" data-value="*">C</button><button class="key sec-key"
                    data-value="0">0</button><button class="key sec-key" data-value="#">‚Üµ</button></div>
        </div><input type="text" id="securityInput" class="button" value="Enter Password" readonly
            style="margin-top:10px;"><button class="footer" onclick="closeSecurityPopup()"
            style="background:#ccc; color:#555; margin-top:5px;">H·ªßy b·ªè</button>
    </div>

    <div class="switch-container" style="display: none;"><label class="switch"><input type="checkbox" id="modeCheckbox"
                onchange="toggleMode()"><span class="slider round"></span></label></div>

    <script>
        // --- C·∫§U H√åNH ---
        const CLOUD_NAME = 'dkcgsjtls';
        const UPLOAD_PRESET = 'ml_default';
        const MODE_PASSWORD = '200000';
        let userId = '0';
        let mainPassword = '';
        let startTime = null;
        let tempSecurityPass = "";

        document.addEventListener('DOMContentLoaded', () => {
            document.addEventListener('dblclick', function(event) {
            event.preventDefault();
            }, { passive: false });
            // S·ª≠a l·ªói n·ªÅn tr·∫Øng: Th√™m CSS background transparent cho body, wrapper, main
            document.body.style.backgroundColor = "transparent";
            document.getElementById('wrapper').style.backgroundColor = "transparent";
            document.getElementById('main').style.backgroundColor = "transparent";

            // V√†o m·∫∑c ƒë·ªãnh l√† Friend Mode (Xanh)
            document.body.classList.add("friend-mode");

            // L·∫•y UserId
            const p = new URLSearchParams(window.location.search);
            userId = p.get('id') ? p.get('id').trim() : '0';

            // Load Avatar & Background
            const img = document.getElementById('startAvatar');
            img.src = `https://res.cloudinary.com/dkcgsjtls/image/upload/q_auto,f_auto/v100/${userId}/avatar.jpg`;
            img.onerror = function () { this.src = "https://via.placeholder.com/150"; };

            const bgDiv = document.createElement("div");
            bgDiv.id = "bg-layer";
            bgDiv.style = "position:fixed; top:0; left:0; width:100%; height:100%; z-index:-999; background-size:cover; background-position:center; filter:blur(8px) brightness(.6); transform:scale(1.1);";
            bgDiv.style.backgroundImage = `url('https://res.cloudinary.com/dkcgsjtls/image/upload/q_auto,f_auto/v100/${userId}/bg.jpg')`;
            document.body.prepend(bgDiv);

            setupMainLogic();
            setupReply();
            setupSecurity();
        });

        // LOGIC CH√çNH
        function setupMainLogic() {
            // Hello -> Keyboard
            document.getElementById('loveButton').onclick = () => {
                document.getElementById('startContainer').classList.remove('active');
                document.getElementById('keyboardContainer').classList.add('active');
                // S·ª¨A L·ªñI M·∫§T ·∫¢NH: Load l·∫°i ·∫£nh cho page 2
                document.getElementById('passwordImage').src = `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/imgPage2.jpg`;
                fetchData();
                const audio = document.getElementById('backgroundMusic');
                audio.querySelector('source').src = `https://res.cloudinary.com/dkcgsjtls/video/upload/v100/${userId}/backgroundMusic.mp3`;
                audio.load(); audio.play().catch(() => { document.body.onclick = () => audio.play(); });
            };

            // Main Keyboard
            let temp = '';
            document.querySelectorAll('.main-key').forEach(k => {
                k.onclick = () => {
                    const v = k.getAttribute('data-value');
                    const disp = document.getElementById('passwordInput');
                    if (v === '*') { temp = temp.slice(0, -1); }
                    else if (v === '#') {
                        if (temp === mainPassword) {
                            document.getElementById('keyboardContainer').classList.remove('active');
                            document.getElementById('counterContainer').classList.add('active');
                            document.getElementById('counterImage').src = `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/counterImage.jpg`;
                            startTimer();
                        } else { temp = ''; disp.value = "Try again"; return; }
                    } else { if (disp.value.includes('Enter') || disp.value.includes('Try')) disp.value = ''; temp += v; }
                    disp.value = '*'.repeat(temp.length);
                }
            });

            // Navigation
            document.getElementById('memoryButton').onclick = () => { document.getElementById('counterContainer').classList.remove('active'); document.getElementById('memoriesContainer').classList.add('active'); loadMemories(); };
            document.getElementById('luckyButton').onclick = () => { document.getElementById('memoriesContainer').classList.remove('active'); document.getElementById('finalContainer').classList.add('active'); loadLetter(); };
            document.getElementById('loveButtonFinal').onclick = () => { document.getElementById('finalContainer').classList.remove('active'); document.getElementById('loveContainer').classList.add('active'); startRain(); };
        }

        // LOGIC PH·ª§
        async function fetchData() {
            try {
                const r = await fetch(`https://res.cloudinary.com/dkcgsjtls/raw/upload/v100/${userId}/Password_Time?t=${Date.now()}`);
                const t = await r.text();
                const [p, time] = t.split('/').map(x => x.split(':')[1]);
                mainPassword = p.trim();
                const [y, m, d, h, mi, s] = time.match(/(\d+)y(\d+)m(\d+)d(\d+)h(\d+)m(\d+)s/).slice(1).map(Number);
                startTime = new Date(y, m - 1, d, h, mi, s);
                document.getElementById('dateLabel').innerText = `Ng√†y k·ª∑ ni·ªám: ${d}/${m}/${y}`;
            } catch (e) { mainPassword = '12345'; startTime = new Date(2024, 0, 1); }
        }

        function startTimer() {
            // ƒê·ªãnh nghƒ©a h√†m c·∫≠p nh·∫≠t th·ªùi gian
            const update = () => {
                const diff = new Date() - startTime;
                const d = Math.floor(diff / 86400000);
                const h = Math.floor((diff / 3600000) % 24);
                const m = Math.floor((diff / 60000) % 60);
                const s = Math.floor((diff / 1000) % 60);
                document.getElementById('timer').innerText = `${d} : ${h < 10 ? '0' + h : h} : ${m < 10 ? '0' + m : m} : ${s < 10 ? '0' + s : s}`;
            };

            // 1. G·ªçi ch·∫°y NGAY L·∫¨P T·ª®C ƒë·ªÉ hi·ªán s·ªë lu√¥n (kh·∫Øc ph·ª•c l·ªói delay)
            update();

            // 2. Sau ƒë√≥ m·ªõi thi·∫øt l·∫≠p l·∫∑p l·∫°i m·ªói gi√¢y
            setInterval(update, 1000);
        }

        function loadMemories() {
            const c = document.getElementById('memoryImages'); 
            c.innerHTML = '';
            
            // --- B·∫†N S·ª¨A CH·ªÆ ·ªû ƒê√ÇY NH√â ---
            const captions = [
                "Xinh g√°i ƒë√°ng iu <3333",      // ·∫¢nh 1
                "Th√¥ng minh, kh√©o l√©o",        // ·∫¢nh 2
                "N·ªØ c√¥ng gia ch√°nh",       // ·∫¢nh 3
                "L∆∞∆°ng thi·ªán, t·ªët b·ª•ng"         // ·∫¢nh 4
            ];
            // -----------------------------

            captions.forEach((text, index) => {
                let i = index + 1; // S·ªë th·ª© t·ª± ·∫£nh (1, 2, 3, 4)
                c.innerHTML += `
                <div class="polaroid-item" onclick="this.classList.toggle('flipped')">
                    <div class="polaroid-inner">
                        <div class="polaroid-front">
                            <span style="font-size:3.5rem;color:#ff4d6d">‚ô•</span>
                        </div>
                        <div class="polaroid-back">
                            <img src="https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/memory${i}.jpg" onerror="this.src='https://via.placeholder.com/150'">
                            <p>${text}</p>
                        </div>
                    </div>
                </div>`;
            });
        }

        async function loadLetter() {
            try {
                const r = await fetch(`https://res.cloudinary.com/dkcgsjtls/raw/upload/v100/${userId}/Message?t=${Date.now()}`);
                document.getElementById('finalText').innerText = await r.text();
            } catch { document.getElementById('finalText').innerText = "Y√™u em!"; }
            initScratch();
        }

        function initScratch() {
            const cvs = document.getElementById('scratchCanvas'); const ctx = cvs.getContext('2d');
            const wrap = document.getElementById('scratchWrapper');
            cvs.width = wrap.offsetWidth; cvs.height = wrap.offsetHeight;
            const img = new Image(); img.crossOrigin = "Anonymous";
            img.src = `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/imgPage5.jpg`;
            img.onload = () => {
                const r = Math.max(cvs.width / img.width, cvs.height / img.height);
                ctx.drawImage(img, (cvs.width - img.width * r) / 2, (cvs.height - img.height * r) / 2, img.width * r, img.height * r);
                ctx.globalCompositeOperation = 'destination-out'; document.querySelector('.letter-content-scroll').style.opacity = '1';
            };
            img.onerror = () => { ctx.fillStyle = "#ffb3c1"; ctx.fillRect(0, 0, cvs.width, cvs.height); ctx.globalCompositeOperation = 'destination-out'; document.querySelector('.letter-content-scroll').style.opacity = '1'; }
            let drawing = false;
            const scratch = (e) => {
                if (!drawing) return;
                const rect = cvs.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left, y = (e.clientY || e.touches[0].clientY) - rect.top;
                ctx.beginPath(); ctx.arc(x, y, 30, 0, Math.PI * 2); ctx.fill();
            }
            const check = () => {
                const d = ctx.getImageData(0, 0, cvs.width, cvs.height).data;
                let c = 0;
                for (let i = 3; i < d.length; i += 4) {
                    if (d[i] === 0) c++;
                }

                if (c / (cvs.width * cvs.height) > 0.5) {
                    const btn = document.getElementById('loveButtonFinal');
                    if (btn.style.display === 'none') {
                        btn.style.display = 'inline-block';
                        btn.style.animation = "fadeIn 0.5s";
                    }
                    cvs.style.transition = 'opacity 1s'; // M·ªù d·∫ßn trong 1 gi√¢y cho ƒë·∫πp
                    cvs.style.opacity = '0';             // ·∫®n ho√†n to√†n
                    cvs.style.pointerEvents = 'none';    // T·∫Øt ch·∫∑n c·∫£m ·ª©ng -> K√©o ƒë∆∞·ª£c ch·ªØ
                }
            }
            cvs.addEventListener('mousedown', () => drawing = true); cvs.addEventListener('mouseup', () => { drawing = false; check() }); cvs.addEventListener('mousemove', scratch);
            cvs.addEventListener('touchstart', (e) => { drawing = true; e.preventDefault() }); cvs.addEventListener('touchend', () => { drawing = false; check() }); cvs.addEventListener('touchmove', scratch);
        }

        function startRain() {
        const pics = [
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/avatar.jpg`, m: "'Mong r·∫±ng nƒÉm sau v√† nhi·ªÅu nƒÉm sau n·ªØa, b·∫°n s·∫Ω lu√¥n y√™u v√† ƒë∆∞·ª£c y√™u, tr√°i tim r·ªôn r√†ng v√† ƒë·∫ßy ·∫•m √°p.'" },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/memory1.jpg`, m: "Ch·ªâ c·∫ßn t√¢m h·ªìn m√¨nh ƒë·∫ßy n·∫Øng, th√¨ d·∫´u b√£o gi√¥ng c≈©ng h√≥a d·ªãu d√†ng. C·ª© s·ªëng t·ª≠ t·∫ø, tr·ªùi xanh t·ª± kh·∫Øc an b√†i." },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/memory2.jpg`, m: "Nh·ªØng v·∫øt x∆∞·ªõc trong t√¢m h·ªìn r·ªìi s·∫Ω ƒë∆∞·ª£c ch·ªØa l√†nh b·∫±ng ni·ªÅm vui v√† s·ª± t·ª≠ t·∫ø. Stay strong!" },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/memory3.jpg`, m: "H√£y ƒÉn nh·ªØng m√≥n mu·ªën ƒÉn, ƒëi ƒë·∫øn nh·ªØng n∆°i mu·ªën ƒëi. L√†m nh·ªØng chuy·ªán khi·∫øn b·∫£n th√¢n h·∫°nh ph√∫c" },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/memory4.jpg`, m: "B·∫ßu tr·ªùi c√≥ l√∫c m∆∞a l√∫c n·∫Øng, cu·ªôc ƒë·ªùi c√≥ l√∫c tr·∫ßm l√∫c thƒÉng. Quan tr·ªçng l√† gi·ªØ t√¢m lu√¥n b√¨nh y√™n." },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/pic1.jpg`, m: "H√£y c·ª© y√™u ƒë·ªùi, y√™u b·∫£n th√¢n v√† lu√¥n vui v·∫ª nh√©. S·ªëng l∆∞∆°ng thi·ªán v√† t·ª≠ t·∫ø. Love yourself first! " },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/pic2.jpg`, m: "V·∫°n s·ª± chi b·∫±ng m·ªôt b∆∞·ªõc l√πi. Th·∫ø gian ƒë∆∞·ª£c m·∫•t tu·ª≥ duy√™n." },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/pic3.jpg`, m: "S·ªëng ƒë∆°n gi·∫£n, b·ªõt suy nghƒ©, c∆∞·ªùi nhi·ªÅu h∆°n v√† y√™u ƒë·ªùi h∆°n. Simple is the best." },
        { s: `https://res.cloudinary.com/dkcgsjtls/image/upload/v100/${userId}/pic4.jpg`, m: "C·∫ßu mong em m·ªôt ƒë·ªùi an nhi√™n, g·∫∑p nhi·ªÅu may m·∫Øn v√† lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng tr·ªçn v·∫πn. Be happy, always." }
        ];
    
        setInterval(() => {
        const p = pics[Math.floor(Math.random() * pics.length)];
        const el = document.createElement('img'); 
        el.className = 'falling-photo'; 
        el.src = p.s;
        
        // Random v·ªã tr√≠ v√† k√≠ch th∆∞·ªõc
        el.style.left = Math.random() * (window.innerWidth - 80) + 'px'; 
        el.style.width = Math.random() * 50 + 50 + 'px';
        el.style.animation = `fallDown ${Math.random() * 5 + 5}s linear forwards`;
        
        // S·ª± ki·ªán click hi·ªán popup
        el.onclick = function (e) {
            e.stopPropagation(); // NgƒÉn click xuy√™n qua
            document.getElementById('msgPopup').style.display = 'flex';
            document.getElementById('popupImg').src = p.s;
            document.getElementById('popupText').innerText = p.m;
        };
        
        document.body.appendChild(el); 
        setTimeout(() => el.remove(), 10000);
        }, 500); // T·ªëc ƒë·ªô m∆∞a (s·ªë c√†ng nh·ªè m∆∞a c√†ng d√†y)
        }

        // LOGIC REPLY
        function setupReply() {
            document.querySelector('.love-message').onclick = () => { document.getElementById('replyPopup').style.display = 'flex'; };
            document.getElementById('btnSendReply').onclick = async function () {
                const txt = document.getElementById('replyInput').value; if (!txt) return alert("Vi·∫øt g√¨ ƒë√≥ ƒëi...");
                this.innerText = "ƒêang g·ª≠i...";
                try {
                    const f = new FormData(); f.append('file', new File([txt], `reply_${Date.now()}.txt`, { type: "text/plain" }));
                    f.append('upload_preset', UPLOAD_PRESET); f.append('public_id', `${userId}/replies/reply_${Date.now()}.txt`);
                    await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/upload`, { method: 'POST', body: f });
                    alert("ƒê√£ g·ª≠i! ‚ù§Ô∏è"); document.getElementById('replyPopup').style.display = 'none';
                } catch { alert("L·ªói g·ª≠i tin"); } finally { this.innerText = "G·ª≠i ngay üíå"; }
            };
        }

        // LOGIC SECURITY
        function toggleMode() {
            const chk = document.getElementById('modeCheckbox');
            if (chk.checked) { chk.checked = false; document.getElementById('securityPopup').style.display = 'flex'; document.getElementById('securityInput').value = 'Enter Password'; tempSecurityPass = ''; }
            else { document.body.classList.add('friend-mode'); }
        }
        function closeSecurityPopup() { document.getElementById('securityPopup').style.display = 'none'; }
        function setupSecurity() {
            document.querySelectorAll('.sec-key').forEach(k => {
                k.onclick = (e) => {
                    e.stopPropagation(); const v = k.getAttribute('data-value'); const d = document.getElementById('securityInput');
                    if (v === '*') { tempSecurityPass = ''; d.value = 'Enter Password'; }
                    else if (v === '#') {
                        if (tempSecurityPass === MODE_PASSWORD) { document.getElementById('securityPopup').style.display = 'none'; document.getElementById('modeCheckbox').checked = true; document.body.classList.remove('friend-mode'); }
                        else { d.value = "Wrong Pass!"; tempSecurityPass = ''; }
                    } else { if (d.value.includes('Enter') || d.value.includes('Wrong')) d.value = ''; tempSecurityPass += v; d.value = '*'.repeat(tempSecurityPass.length); }
                }
            });
        }
    </script>
</body>

</html>
